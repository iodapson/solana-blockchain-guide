<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Making a NFT Collection - Solana Blockchain Guide</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="index.html">Introduction</a></li><li class="chapter-item expanded affix "><li class="part-title">Overview</li><li class="chapter-item expanded "><a href="1. Overview.html"><strong aria-hidden="true">1.</strong> Overview</a></li><li class="chapter-item expanded "><a href="2. What is Blockchain & How it Works.html"><strong aria-hidden="true">2.</strong> Blockchain & How it Works</a></li><li class="chapter-item expanded "><a href="3. Solana Program teaser.html"><strong aria-hidden="true">3.</strong> Solana Program teaser</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Project 1: Favorites Program</li><li class="chapter-item expanded "><a href="4. Solana Project 1 - Section A.html"><strong aria-hidden="true">4.</strong> Solana Project 1 - Section A</a></li><li class="chapter-item expanded "><a href="5. Solana Project 1 - Section B.html"><strong aria-hidden="true">5.</strong> Solana Project 1 - Section B</a></li><li class="chapter-item expanded "><a href="6. Solana Project 1 - Section C.html"><strong aria-hidden="true">6.</strong> Solana Project 1 - Section C</a></li><li class="chapter-item expanded "><a href="7. Solana Project - Section D.html"><strong aria-hidden="true">7.</strong> Solana Project 1 - Section D</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Project 2: Voting Application</li><li class="chapter-item expanded "><a href="8. Installing Solana on a Local Dev Machine.html"><strong aria-hidden="true">8.</strong> Installing Solana on a Local Dev Machine</a></li><li class="chapter-item expanded "><a href="9. Creating the Voting Dapp.html"><strong aria-hidden="true">9.</strong> Creating the Voting Dapp</a></li><li class="chapter-item expanded "><a href="10. Understanding the Voting Dapp.html"><strong aria-hidden="true">10.</strong> Understanding the Voting Dapp</a></li><li class="chapter-item expanded "><a href="11. Testing Dapps.html"><strong aria-hidden="true">11.</strong> Testing Dapps</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Project 3: Integrating Blinks</li><li class="chapter-item expanded "><a href="12. Solana Blinks and Actions.html"><strong aria-hidden="true">12.</strong> Solana Actions and Blinks</a></li><li class="chapter-item expanded "><a href="13. Adding Blinks & Actions to Our Dapp.html"><strong aria-hidden="true">13.</strong> Adding Blinks & Actions to Our Dapp</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Project 4: Solana Journal CRUD-Dapp</li><li class="chapter-item expanded "><a href="14. Project 4 Overview.html"><strong aria-hidden="true">14.</strong> Project 4 Overview</a></li><li class="chapter-item expanded "><a href="15. Solana Journal CRUD set-up and Backend.html"><strong aria-hidden="true">15.</strong> Solana Journal CRUD set-up and Backend</a></li><li class="chapter-item expanded "><a href="16. Solana Journal CRUD Frontend.html"><strong aria-hidden="true">16.</strong> Solana Journal CRUD Frontend</a></li><li class="chapter-item expanded "><a href="17. Solana Journal CRUD in action.html"><strong aria-hidden="true">17.</strong> Solana Journal CRUD in action</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Project 5: Creating a Token</li><li class="chapter-item expanded "><a href="18. Tokens Overview.html"><strong aria-hidden="true">18.</strong> Tokens Overview</a></li><li class="chapter-item expanded "><a href="19. Making a token.html"><strong aria-hidden="true">19.</strong> Making a Token</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Project 6: NFTs</li><li class="chapter-item expanded "><a href="20. NFTs Overview.html"><strong aria-hidden="true">20.</strong> NFTs Overview</a></li><li class="chapter-item expanded "><a href="21. Making an NFT Collection.html" class="active"><strong aria-hidden="true">21.</strong> Making a NFT Collection</a></li><li class="chapter-item expanded "><a href="22. Adding an NFT to a collection.html"><strong aria-hidden="true">22.</strong> Adding a NFT to a collection</a></li><li class="chapter-item expanded "><a href="23. Verifying a NFT in a collection.html"><strong aria-hidden="true">23.</strong> Verifying a Collection NFT</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Project 7: Building a Swap Program</li><li class="chapter-item expanded "><a href="24. Swap Program Overview.html"><strong aria-hidden="true">24.</strong> Swap Program Overview</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Solana Blockchain Guide</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h3 id="making-an-nft-collection"><a class="header" href="#making-an-nft-collection">Making an NFT Collection</a></h3>
<p><span style="color: orange;">1.</span></p>
<h4 id="make-folder-for-nft-project"><a class="header" href="#make-folder-for-nft-project">Make folder for NFT project</a></h4>
<p>Let us make a new folder for our NFT called <code>new-nft</code> using command <code>$: mkdir new-nft</code>, and then change directory into it using command <code>$: cd new-nft</code>.</p>
<br/>
<p><span style="color: orange;">2.</span></p>
<h4 id="initialize-new-project-using-npm"><a class="header" href="#initialize-new-project-using-npm">Initialize new project using NPM</a></h4>
<p>Enter command <code>$: npm init -y</code> to initialize a new project.</p>
<br/>
<p><span style="color: orange;">3.</span></p>
<h4 id="install-all-neccessary-packages"><a class="header" href="#install-all-neccessary-packages">Install all neccessary packages</a></h4>
<p>Let us install the following packages</p>
<pre><code>npm i @metaplex-foundation/mpl-token-metadata @metaplex-foundation/umi-bundle-defaults @solana-developers/helpers
</code></pre>
<p>Umi, by the way is the Japanese word for 'Sea'. You will notice a lot of things in Solana like Sea-level, Anchor even has names based on seas or oceans. Our <code>umi</code> instance is a way we can talk to Metaplex tools</p>
<p><code>mpl</code> is Metaplex, the company that maintains the metaplex NFT tools.</p>
<br/>
<p><span style="color: orange;">4.</span></p>
<h4 id="create-and-edit-a-new-file-called-create-collectionts"><a class="header" href="#create-and-edit-a-new-file-called-create-collectionts">Create and edit a new file called 'create-collection.ts'</a></h4>
<p>Let us create a new file called <code>create-collection.ts</code> right inside the root-level directory of our <code>new-nft</code> folder. It is inside this file that we would write code to create an NFT collection.</p>
<p><span style="color: orange">Sidenote: </span>As mentioned before, NFTs unlike regular tokens are unque. So whereas normal tokens have multiple tokens, many billions of tokens in some cases, or with a single token-mint address, each NFT has its own token-mint address. So there needs to be some way to bind all those NFTs together and also confirm that any new NFTs are actually produced by the owners of that collection. So that is why we have a collections. Collections by the way are also NFTs that simply point to other NFTs. You can even do fancy things like creating collections that point to other collections - go check our the Metaplex docs for more info.</p>
<p>Let us start by editing our <code>create-collection.ts</code> file to import a few things.</p>
<pre><code class="language-ts">/*
  create-collection.ts
*/
import {
	createNft,
	fetchDigitalAsset,
	mplTokenMetadata,
} from '@metaplex-foundation/mpl-token-metadata';

import {
	airdropIfRequired,
	getExplorerLink,
	getKeypairFromFile,
} from '@solana-developers/helpers';

import { createUmi } from '@metaplex-foundation/umi-bundle-defaults';

// web3.js is already installed because it is a dependency of some of the other packages
// ...but if it is not acknowledged, then - run '$: npm i @solana/web3.js to install it
import { Connection, LAMPORTS_PER_SOL, clusterApiUrl } from '@solana/web3.js';

import {
	generateSigner,
	keypairIdentity,
	percentAmount,
} from '@metaplex-foundation/umi';
</code></pre>
<br/>
<p><span style="color: orange;">5.</span></p>
<h4 id="make-a-connection-to-the-devnet-url-inside-create-collectionts"><a class="header" href="#make-a-connection-to-the-devnet-url-inside-create-collectionts">Make a connection to the Devnet URL inside 'create-collection.ts'</a></h4>
<ul>
<li>Create a connection:</li>
</ul>
<pre><code class="language-ts">/*
  create-collection.ts
*/

// imports
...

const connection = new Connection(clusterApiUrl(&quot;devnet&quot;));

</code></pre>
<ul>
<li>Specify the user (by pointing at a Public Keypair file). If we so not specify the file to use, it is just going to use the <code>id.json</code> file that is in our home folder - this is exactly what we want to use:</li>
</ul>
<pre><code class="language-ts">/*
  create-collection.ts
*/

// imports
...

// const connection
...

const user = await getKeypairFromFile();

</code></pre>
<br/>
<p><span style="color: orange;">6.</span></p>
<h4 id="provide-ourselves-some-sol-if-we-do-not-enough-using-code"><a class="header" href="#provide-ourselves-some-sol-if-we-do-not-enough-using-code">Provide ourselves some SOL if we do not enough using code</a></h4>
<pre><code class="language-ts">/*
  create-collection.ts
*/

// imports
...

// const connection
...

// const user
...

await airdropIfRequired(
    connection,
    user.publicKey,
    1 * LAMPORTS_PER_SOL,
    0.5 * LAMPORTS_PER_SOL
);

// prints out in the usual string of letters and numbers that we are used to seeing Solana public keys as
console.log(&quot;Loaded user&quot;, user.publicKey.toBase58());

</code></pre>
<p>The code above makes a Devnet connection for an airdrop to our 'user.publicKey' account if it ever falls below 0.5 LAMPORTS_PER_SOL.</p>
<br/>
<p><span style="color: orange;">7.</span></p>
<h4 id="create-a-umi-instance-to-talk-to-metaplex-nft-tools-then-create-and-use-a-umi-version-of-our-keypair"><a class="header" href="#create-a-umi-instance-to-talk-to-metaplex-nft-tools-then-create-and-use-a-umi-version-of-our-keypair">Create a umi instance to talk to Metaplex NFT tools, then create and use a umi version of our keypair</a></h4>
<pre><code class="language-ts">/*
  create-collection.ts
*/

// imports
...

// const connection
...

// const user
const user = await getKeypairFromFile();

// await airdropIfRequired(...);
...

// console.log(&quot;Loaded user&quot;, user.publicKey.toBase58());
...

const umi = createUmi(connection.rpcEndpoint); // umi connection to Devnet
umi.use(mplTokenMetadata()); // umi use - run 'mplTokenMetadata' function

const umiUser = umi.eddsa.createKeypairFromSecretKey(user.secretKey); // this is just a copy of user, but it is in the format that umi uses for secret keys
umi.use(keypairIdentity(umiUser));

console.log(&quot;Set-up Umi instance for user&quot;);

</code></pre>
<p>So we have loaded our user, we have connected to Devnet, we have given the user some Devnet SOL if they needed it, we have made a umi instance up to use our user as the default signer for transactions. That is good. Now let's go make the collection.</p>
<br/>
<p><span style="color: orange;">8.</span></p>
<h4 id="make-a-collection-await-a-create-nft-transaction-send-and-confirm-transaction-then-fetch-the-created-nft"><a class="header" href="#make-a-collection-await-a-create-nft-transaction-send-and-confirm-transaction-then-fetch-the-created-nft">Make a collection, await a create-Nft transaction, send and confirm transaction, then fetch the created-Nft</a></h4>
<p>Let us write code to create a new collection.</p>
<pre><code class="language-ts">/*
  create-collection.ts
*/

// imports
...

// const connection
...

// const user
const user = await getKeypairFromFile();

// await airdropIfRequired(...);
...

// console.log(&quot;Loaded user&quot;, user.publicKey.toBase58());
...

const umi = createUmi(connection.rpcEndpoint); // umi connection to Devnet
umi.use(mplTokenMetadata());

const umiUser = umi.eddsa.createKeypairFromSecretKey(user.secretKey);
umi.use(keypairIdentity(umiUser));
console.log(&quot;Set-up Umi instance for user&quot;);

const collectionMint = generateSigner(umi); // make a keypair using umi

const transaction = await createNft(umi, {
	mint: collectionMint,
	name: 'My 1st Collection',
	symbol: 'M1C',
	uri: '&lt;raw-link-to-your-.json-collection-metadata&gt;',
	sellerFeeBasisPoints: percentAmount(0), // provides a way for artists to make money off secondary sales via royalties on every increase in value
    isCollection: true
}); // this is our transaction that is going to create our collection for us

await transaction.sendAndConfirm(umi);

const createdNftCollection = await fetchDigitalAsset(
    umi,
    collectionMint.publicKey
);

console.log(
    `Created Collection ðŸ“¦! Address is ${getExplorerLink(
        &quot;address&quot;,
        createdNftCollection.mint.publicKey,
        &quot;devnet&quot;
    )}`
);

</code></pre>
<p>Please note that <code>&lt;raw-link-to-your-.json-metadata&gt;</code> of <code>createNft()</code>' object argument must be a raw link to a Json file that loads up without extra HTML in-between. In mainnet, you can make use of decentralized storage solutions, e.g, Arweave to store your json metadata for permanence instead of github like we did here for demonstrative purposes.</p>
<p>Your <code>collection-metadata.json</code> file could look like this</p>
<pre><code class="language-json">{
	&quot;name&quot;: &quot;Test Collection 1&quot;,
	&quot;description&quot;: &quot;This is a prototype collection on devnet&quot;,
	&quot;image&quot;: &quot;&lt;raw-link-to-your-preferred-collection-logo&gt;&quot;
}
</code></pre>
<p>Just like with our metatdata.json file itself, the image-link value for the image property in it should also be a raw link that loads up an image without extra HTML or anything else surrounding it.</p>
<p><span style="color: orange">Sidenote: </span> As earlier commented in the above code, 'sellerFeeBasisPoints' field of the object argument of 'createNft()' provides a way for artists to make money off secondary sales via royalties on every increase in value, however, these days, we actually have newer and better ways of handling this becuase these basis points on NFTs used to just be enforced by marketplaces being nice. These days, we actually have things that are built into the protocol like programmable NFTs, and like transfer hooks that can be use to provide a mechanism of artists to get those royalites and enforce them so people can actually transfer that artwork without paying the orginal artists. Very cool particulary for people who make money as artists for their living. And yes, if you are interested in that, you should check out token-extensions.</p>
<br/>
<p><span style="color: orange;">9.</span></p>
<h4 id="install-esrun-if-not-installed-and-run-our-create-collectionts-script"><a class="header" href="#install-esrun-if-not-installed-and-run-our-create-collectionts-script">Install esrun (if not installed) and run our 'create-collection.ts' script</a></h4>
<p>We install esrun from the NPM registry for our project using command</p>
<pre><code class="language-bash">npm i esrun
</code></pre>
<p>Esrun if you have not seen it before is just a really easy way to run TypeScript on the command-line. You do not have to set anything up beforehand, it just works.</p>
<p>To run our <code>create-collection.ts</code> code, we enter commands</p>
<pre><code class="language-bash">npm i
</code></pre>
<p>Then</p>
<pre><code class="language-bash">npx esrun create-collection.ts
</code></pre>
<p>If your script refuses to execute, then try downgrading your version of package <code>@solana-developers/helpers</code> inside <code>package.json</code> from version <code>^2.8.0</code> to a more compatible version of <code>^2.5.2</code>.</p>
<br/>
<p><span style="color: orange;">10.</span></p>
<h4 id="check-out-your-new-collection-on-solana-explorer"><a class="header" href="#check-out-your-new-collection-on-solana-explorer">Check out your new collection on Solana Explorer</a></h4>
<p>Upon successfuly running our <code>create-collection.ts</code> code, it would have created a new NFT collection and then provide us a link to it on Solana Explorer right inside the terminal. Follow the link using <code>Command + click</code> or <code>Ctrl + click</code> to see the new collection.</p>
<p>You will find that there is only one of the collection among other information provided on Solana Explorer.</p>
<hr />
<p>Timestamp - [03:50:21 - 04:09:12]</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="20. NFTs Overview.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="22. Adding an NFT to a collection.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="20. NFTs Overview.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="22. Adding an NFT to a collection.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
